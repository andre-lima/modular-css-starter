@mixin checkbox($size: $checkbox-size, $checkmark: $checkbox-mark-content, $custom-font: null) {
  position: relative;
  cursor: pointer;
  user-select: none;
  padding-left: $size + 5px;

  input {
    position: absolute;
    opacity: 0;
    cursor: pointer;
    height: 0;
    width: 0;
  }

  span {
    @include absolute($top: 0, $left: 0);
    height: $size;
    width: $size;
    background-color: $checkbox-bg-color;
    @if ($checkbox-border-size != 0) {
      @include border ($checkbox-border-size, $checkbox-border-color);
    }
  }

  /* On mouse-over, add a grey background color */
  &:hover input ~ span {
    background-color: $checkbox-bg-color-hover;
  }

  /* When the checkbox is checked, add a blue background */
  input:checked {
    & ~ span {
      background-color: $checkbox-bg-color-selected;
      color: $checkbox-mark-color;
      
      &:hover {
        background-color: $checkbox-bg-color-selected-hover;
      }
      
      /* Show the checkmark when checked */
      &:after {
        display: block;
      }
    }
  }

  /* Create the checkmark/indicator (hidden when not checked) */
  span:after {
    @include absolute;
    @include center-element;
    content: $checkmark;
    font-family: $custom-font;
    font-size: $text-sm;
    display: none;

    @content;
  }

}